@* Views/Shared/_Sidebar.cshtml *@
@{
    var currentController = (ViewContext.RouteData.Values["controller"]?.ToString() ?? "").ToLowerInvariant();
    Func<string, bool> isActive = (c) => currentController == (c ?? "").ToLowerInvariant();
}

<nav class="app-sidebar" aria-label="Sidebar Navigation">

    <div class="sidebar-brand">
        <div class="brand-title">DMT Tool</div>
        <div class="brand-subtitle">Data Migration</div>
    </div>

    <div class="sidebar-nav">

        <!-- GROUP: DASHBOARDS -->
        <div class="nav-group">
            <button class="nav-item group-header" type="button" data-group="dashboards" aria-expanded="false">
                <span class="nav-left">
                    <i data-lucide="layout-grid" class="nav-ico"></i>
                    <span>Dashboards</span>
                </span>

                <span class="nav-right">
                    <i data-lucide="chevron-down" class="nav-chev" data-chevron></i>
                </span>
            </button>

            <div class="group-items" data-group-items="dashboards">
                <a class="nav-subitem @(isActive("Dashboard") ? "active" : "")" href="/Dashboard/Index">
                    <i data-lucide="bar-chart-3" class="sub-ico"></i>
                    <span>Overview</span>
                </a>
            </div>
        </div>

        <div class="nav-label">USER</div>

        <!-- GROUP: USER -->
        <div class="nav-group">
            <button class="nav-item group-header" type="button" data-group="user" aria-expanded="false">
                <span class="nav-left">
                    <i data-lucide="user" class="nav-ico"></i>
                    <span>User</span>
                </span>

                <span class="nav-right">
                    <i data-lucide="chevron-down" class="nav-chev" data-chevron></i>
                </span>
            </button>

            <div class="group-items" data-group-items="user">
                <a class="nav-subitem @(isActive("Pipeline") ? "active" : "")" href="/Pipeline/Index">
                    <i data-lucide="git-branch" class="sub-ico"></i>
                    <span>Pipeline</span>
                </a>

                <a class="nav-subitem @(isActive("Projects") ? "active" : "")" href="/Projects/Index">
                    <i data-lucide="folder-kanban" class="sub-ico"></i>
                    <span>Projects</span>
                </a>

                <a class="nav-subitem @(isActive("UserManagement") ? "active" : "")" href="/UserManagement/Index">
                    <i data-lucide="users" class="sub-ico"></i>
                    <span>User Management</span>
                </a>

                <a class="nav-subitem @(isActive("Authentication") ? "active" : "")" href="/Authentication/Index">
                    <i data-lucide="shield-check" class="sub-ico"></i>
                    <span>Authentication</span>
                </a>
            </div>
        </div>

        <div class="nav-label">MASTER DATA</div>

        <!-- GROUP: MASTER DATA -->
        <div class="nav-group">
            <button class="nav-item group-header" type="button" data-group="master" aria-expanded="false">
                <span class="nav-left">
                    <i data-lucide="database" class="nav-ico"></i>
                    <span>Master Data</span>
                </span>

                <span class="nav-right">
                    <i data-lucide="chevron-down" class="nav-chev" data-chevron></i>
                </span>
            </button>

            <div class="group-items" data-group-items="master">
                <a class="nav-subitem @(isActive("Vendors") ? "active" : "")" href="/Vendors/Index">
                    <i data-lucide="building-2" class="sub-ico"></i>
                    <span>Vendors</span>
                </a>

                <a class="nav-subitem @(isActive("Templates") ? "active" : "")" href="/Templates/Index">
                    <i data-lucide="file-text" class="sub-ico"></i>
                    <span>Templates</span>
                </a>

                <a class="nav-subitem @(isActive("KnowledgeHub") ? "active" : "")" href="/KnowledgeHub/Index">
                    <i data-lucide="book-open" class="sub-ico"></i>
                    <span>Knowledge Hub</span>
                </a>
            </div>
        </div>

        <div class="nav-label">SETTINGS</div>

        <a class="nav-item @(isActive("SystemSettings") ? "active" : "")" href="/SystemSettings/Index">
            <span class="nav-left">
                <i data-lucide="settings" class="nav-ico"></i>
                <span>System Settings</span>
            </span>
        </a>

    </div>
</nav>
